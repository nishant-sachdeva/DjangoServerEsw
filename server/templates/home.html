{% extends 'base.html' %} {% block content %}

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<div class="container h-75 w-100">
  <div class="row h-100">
    <div class="col-12 col-md-8 w-100">
			<div class="chartjs-wrapper">
				<canvas id="chartjs-0" class="chartjs" width="125" height="100">
				</canvas>
			</div>
    </div>
    {% if list.status == 1 %}
    <div class="col-12 col-md-4 bg-dark text-white">
      {% else %}
      <div class="col-12 col-md-4 bg-light text-dark">
        {% endif %}
        <div class="container d-flex h-100 align-items-center">
          <div class="col text-center">
            <h1>
              {% if list.status == 1 %} The light is ON {% else %} The light is
              OFF {% endif %}
            </h1>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container mt-5">
    <div class="row">
      <div class="col">
        <h2><b>Latest Reading Report:</b></h2>
      </div>
    </div>
    <div class="row pt-5">
      <div class="col">
        <h4 class="d-inline pr-3"><b>Sensor Reading:</b></h4>
        {{ list.value }}
      </div>
    </div>
    <div class="row">
      <div class="col">
        <h4 class="d-inline pr-3"><b>ID:</b></h4>
        {{ list.id }}
      </div>
    </div>
    <div class="row">
      <div class="col">
        <h4 class="d-inline pr-3"><b>Time:</b></h4>
        {{ list.time }} (UTC)
      </div>
    </div>
  </div>

  <div class="container my-5 bg-secondary">
    <div class="row p-5">
      <div class="col text-white">
        <h2>
          <b
            >The light has been on for a total time of
            {{ list.total_time }} hours</b
          >
        </h2>
      </div>
    </div>
  </div>
</div>
<script>
  function myFunc() {
	new Chart(document.getElementById("chartjs-0"),{
		"type":"line",
		"data":{"labels":["January","February","March","April","May","June","July"],
				"datasets":[{"label":"My First Dataset",
				"data":[65,59,80,81,56,55,40],
				"fill":false,
				"borderColor":"rgb(75, 192, 192)",
				"lineTension":0.1}]},
		"options":{}
	});
  }
  window.onload = myFunc;
</script>
{%endblock%}
